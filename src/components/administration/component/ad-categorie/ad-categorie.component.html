<div class="row">
    <div class="row" *ngIf="!showSpinner else spinner">
        <div class="col-12 d-flex">
            <button class="btn mx-1" [matTooltip]="'Aggiungi'" [matTooltipPosition]="'above'"
                (click)="addCategory = !addCategory">
                <i class="bi bi-plus h1 pointer"></i>
            </button>
            <button class="btn mx-1" [matTooltip]="'Aggiorna'" [matTooltipPosition]="'above'" (click)="getCategorie()">
                <i class="bi bi-arrow-clockwise h1 pointer"></i>
            </button>
        </div>
        <div class="row" *ngIf="!addCategory">
            <div class="col-md-4 col-sm-6 p-3" *ngFor="let c of categorie">
                <div class="border shadow p-2 category">
                    <div class="d-flex justify-content-end">
                        <button class="btn btn-outline-secondary" [matTooltip]="'Modifica'"
                            [matTooltipPosition]="'above'" (click)="handleEvent('Modifica',c)">
                            <i class="bi bi-pencil h3"></i>
                        </button>
                        <button class="btn btn-outline-danger" [matTooltip]="'Elimina'" [matTooltipPosition]="'above'"
                            (click)="handleEvent('Elimina',c)">
                            <i class="bi bi-trash h3"></i>
                        </button>
                    </div>
                    <p class="fs-4 text-center py-3">
                        {{firstLetterToUpperCase(c.nome)}}
                    </p>
                </div>
            </div>
        </div>
        <div class="row mt-3" *ngIf="addCategory">
            <div class="col-12 py-3">
                <h2>Aggiungi</h2>
            </div>
            <div class="col-md-6 my-5">
                <h2 for="nome" class="py-3">Categoria</h2>
                <form [formGroup]="addCategoriaForm" class="p-3 w-75 m-auto">
                    <input type="text" class="form-control mt-4" formControlName="nome" id="nome"
                        placeholder="Inserisci un nome">
                </form>
            </div>
            <div class="col-md-6 my-5">
                <h2 class="py-3">Anteprima</h2>
                <div class="border shadow p-2 category">
                    <div class="d-flex justify-content-end">
                        <button class="btn btn-outline-secondary" [matTooltip]="'Modifica'"
                            [matTooltipPosition]="'above'">
                            <i class="bi bi-pencil h3"></i>
                        </button>
                        <button class="btn btn-outline-danger" [matTooltip]="'Elimina'" [matTooltipPosition]="'above'">
                            <i class="bi bi-trash h3"></i>
                        </button>
                    </div>
                    <p class="fs-4 text-center py-3">
                        {{firstLetterToUpperCase(addCategoriaForm.controls['nome'].value || "Inserisci un nome")}}
                    </p>
                </div>
            </div>
            <div class="col-12 text-center py-4">
                <button type="button" class="btn btn-outline-secondary mt-4 border shadow-sm"
                    [matTooltip]="'Inserisci categoria'" [matTooltipPosition]="'above'"
                    [disabled]="addCategoriaForm.invalid" (click)="addCategoria()">Inserisci</button>
            </div>
        </div>
    </div>
    <ng-template #spinner>
        <div class="col-12 py-5 d-flex justify-content-center">
            <mat-spinner [color]="'warn'"></mat-spinner>
        </div>
    </ng-template>
</div>